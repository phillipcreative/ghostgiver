function add_to(){_this=$(this),CartJS.addItem(_this.data("variant-id"),1,{},{success:function(t,a,i){_this.length&&(setTimeout(function(){_this.html("<i class='icon icon-check'></i><span>"+locales.added+"</span>"),$(".product-item-cart span",".product-item.product-id-"+_this.data("variant-id")).html(CartJS.cart.item_count),$(".product-item-cart",".product-item.product-id-"+_this.data("variant-id")).removeClass("hidden")},1e3),setTimeout(function(){_this.html("<span>"+_this.attr("title")+"</span>"),_this.removeClass("btn-loading"),$(".js-add-to-cart").removeClass("disabled")},2e3))},error:function(t,a,i){setTimeout(function(){_this.html("<span>"+_this.attr("title")+"</span>")},2e3),$("#modalError .modal-body p").text("No more products"),$("#modalError").modal("show")}}),CartJS.clearAttributes()}function updateData($type,$id,$options){if(path="product_options_"+$id,product_to_update=$(".product-info-block-id-"+$id),$price_format=price_format,$($type,$options).each(function(){val="select"==$type?$(this).val():$(this).data("value"),x="['"+val+"']",path+=x}),void 0!=eval(path)){$("input[name=id]",product_to_update).val(eval(path+"['id']")),$(".special-price",product_to_update).html(Shopify.formatMoney(eval(path+"['price']"),$price_format)),""!=eval(path+"['compare_at_price']")?$(".old-price",product_to_update).html(Shopify.formatMoney(eval(path+"['compare_at_price']"),$price_format)):$(".old-price",product_to_update).html(""),sku=eval(path+"['sku']"),""==sku&&(sku="----"),$(".product-sku span",product_to_update).html(sku),path_image=path+"['image']";var $image=$(".main-image.id_"+$id+" img"),$previewsCarousel=$("#previewsGallery"+$id);if(imgSrc=eval(path_image),$previewsCarousel.length){var currentSelect=imgSrc.split("?").pop();$previewsCarousel.find(".slick-slide").each(function(){if($(this).attr("data-zoom-image").split("?").pop()==currentSelect)return $(this).trigger("click"),!1})}var newImg=document.createElement("img");newImg.src=imgSrc,newImg.onload=function(){$image.attr("src",imgSrc),$image.attr("data-zoom-image",imgSrc)},path_inventory_management=eval(path+"['inventory_management']"),path_inventory_quantity=eval(path+"['inventory_quantity']"),path_inventory_policy=eval(path+"['inventory_policy']"),"shopify"==path_inventory_management&&"deny"==path_inventory_policy?($(".stock-dynamic",product_to_update).removeClass("hidden").find("b").text(path_inventory_quantity),$(".qty-input",product_to_update).attr("data-max",path_inventory_quantity),parseInt($(".qty-input",product_to_update).val())>parseInt(path_inventory_quantity)&&$(".qty-input",product_to_update).val(path_inventory_quantity)):($(".stock-dynamic",product_to_update).hasClass("hidden")||$(".stock-dynamic",product_to_update).addClass("hidden"),$(".qty-input",product_to_update).removeAttr("data-max"))}}function cartPopupUpdate(){$cart_count=$(".header-cart .badge"),$title_count=$(".header-cart .title_count"),cart_list="ul.minicart-product-items",CartJS.cart.item_count>0?($(".header-cart .info").show(),$(".header-cart").removeClass("header-cart-empty"),$(".header-cart .empty-text").hide(),$cart_subtotal=$(".header-cart .minicart-total .price"),$price_format=price_format,$updated_list="",$.each(CartJS.cart.items,function(t,a){$item='<li class="minicart-product-item"> <div class = "minicart-product-row"><a class = "minicart-product-item-photo" href="'+a.url+'" title="'+a.product_title+'"> <img src = "'+a.image+'" alt="'+a.product_title+'"> </a> <div class = "minicart-product-item-details"> <div class = "minicart-product-item-info"> <h2 class="product-title"><a href="'+a.url+'" title="'+a.product_title+'">'+a.product_title+'</a></h2> </div> <div class = "minicart-product-item-qty"> <label class="label">'+locales.qty+"</label> <span> "+a.quantity+'</span> </div> <div class = "minicart-product-item-price"> <div class="product-price">'+Shopify.formatMoney(a.price,$price_format)+'</div> </div> <div class = "minicart-product-item-actions"> <a href = "'+a.url+'" data-variant-id="'+a.variant_id+'"  title="'+locales.remove+'" class="icon icon-trash-alt js-minicart-remove-item"></a> <a href = "'+a.url+'" title="'+locales.edit+'" class="icon icon-pencil"></a> </div> </div> </div> </li> ',$updated_list+=$item}),$(cart_list).html($updated_list),$cart_subtotal.html(Shopify.formatMoney(CartJS.cart.total_price,$price_format)),currencyUpdate()):($updated_list="",$(cart_list).html($updated_list),$(".header-cart .info").hide(),$(".header-cart").addClass("header-cart-empty"),$(".header-cart .empty-text").show()),$cart_count.html(CartJS.cart.item_count),$title_count.html(CartJS.cart.item_count)}function currencyUpdate(){Currency.convertAll(shopCurrency,jQuery(".selected-currency:first").text())}function showProduct(t,a,i){var t=t,a=a;$(i).each(function(i){var e=$(this);setTimeout(function(){e.addClass(a+" animated")},t*i)})}function viewMode(t){var a=$(".grid-view",$(t)),i=$(".list-view",$(t)),e=$(".products-listview, .products-grid");if($(".products-listview").length)i.addClass("active");else{if(!$(".products-grid").length)return!1;a.addClass("active")}a.on("click",function(t){var a=$(this);e.addClass("no-animate"),a.is(".active")||(i.removeClass("active"),a.addClass("active"),e.removeClass("products-listview").addClass("products-grid")),setTimeout(function(){e.removeClass("no-animate")},500),t.preventDefault()}),i.on("click",function(t){var i=$(this);e.addClass("no-animate"),i.is(".active")||(a.removeClass("active"),i.addClass("active"),e.removeClass("products-grid").addClass("products-listview")),setTimeout(function(){e.removeClass("no-animate")},500),t.preventDefault()})}function tooltipIni(){var t;$("[data-tooltip]").darkTooltip({size:"small",animation:"fade"}).hover(function(){t=$(this).attr("title"),$(this).attr("title","")},function(){$(this).attr("title",t)})}$("body").hasClass("ajax_cart")&&($(document).on("click",".js-add-to-cart",function(t){$(".js-add-to-cart").addClass("disabled"),$(this).addClass("btn-loading").blur().html('<i class="icon icon-spinner3 spin"></i><span>'+locales.adding+"</span>"),add_to.call(this),t.preventDefault()}),$(document).on("click",".js-add-to-cart-product-page",function(t){_this=$(this),$form=_this.closest("form"),_this.addClass("btn-loading").addClass("disabled").blur().html('<i class="icon icon-spinner3 spin"></i><span>'+locales.adding+"</span>"),CartJS.addItem($("input[name=id]",$form).val(),$("[name=quantity]",$form).val(),{},{success:function(t,a,i){$(".js-add-to-cart-product-page").length&&(setTimeout(function(){_this.removeClass("btn-loading").removeClass("disabled"),_this.html("<i class='icon icon-check'></i><span>"+locales.added+"</span>"),$(".product-item-cart span",".product-actions.product-id-"+_this.data("variant-id")).html(CartJS.cart.item_count),$(".product-item-cart",".product-actions.product-id-"+_this.data("variant-id")).removeClass("hidden")},1e3),setTimeout(function(){_this.html("<span>"+_this.attr("title")+"</span>")},2e3),setTimeout(function(){$(".toggleStack").click()},3e3))},error:function(t,a,i){_this.removeClass("btn-loading").removeClass("disabled"),setTimeout(function(){_this.html("<span>"+_this.attr("title")+"</span>")},2e3),setTimeout(function(){$(".toggleStack").click()},3e3),$("#modalError .modal-body p").text("No more products"),$("#modalError").modal("show")}}),CartJS.clearAttributes(),t.preventDefault()})),$(document).on("click","a.js-minicart-remove-item",function(t){CartJS.removeItemById($(this).data("variant-id"),{success:function(t,a,i){},error:function(t,a,i){$("#modalError .modal-body p").text(i),$("#modalError").modal("show")}}),t.preventDefault()}),$(document).on("click",".update_qty",function(t){CartJS.updateItemById($(this).data("variant-id"),$(this).prev().val(),{},{success:function(t,a,i){},error:function(t,a,i){$("#modalError .modal-body p").text(i),$("#modalError").modal("show")}}),t.preventDefault()}),$(document).on("cart.requestComplete",function(t,a){cartPopupUpdate()}),$(function(){$(".countdown").each(function(){var t=$(this),a=$(this).data("countdown");t.countdown(a,function(a){t.html(a.strftime("<span><span>%D</span>"+locales.days+"</span><span><span>%H</span>"+locales.hrs+"</span><span><span>%M</span>"+locales.min+"</span><span><span>%S</span>"+locales.sec+"</span>"))})})});